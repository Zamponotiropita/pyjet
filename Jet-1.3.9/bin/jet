#!/usr/bin/env python
import argparse
import os, shutil
import jet
if sys.version_info[0] >= 3:
    from configparser import  ConfigParser
else:
    from ConfigParser import  ConfigParser

jet_path = os.path.dirname(jet.__file__)
config = ConfigParser().read(jet_path + "/.medadata")

description = \
"""
JET-CLI
"""

parser = argparse.ArgumentParser(description=description)
parser.add_argument('--clean', help='Delete all files generated by JET.', action="store_true")
parser.add_argument('--install-dependencies', help='Install JET dependencies.', action="store_true")
parser.add_argument('--version', help='Show version number.', action="store_true")
args = parser.parse_args()

if args.clean and os.path.exists('./jet_generated/'):
    shutil.rmtree('./jet_generated/')
if args.install_dependencies:
    os.system('python ' + jet_path + '/post_install/post_install.py')
if args.version:
    print(config.get('Version', 'version'))
