#!/usr/bin/python
import argparse
import sys, os, shutil
import jet
if sys.version_info[0] >= 3:
    from configparser import  ConfigParser
else:
    from ConfigParser import  ConfigParser


jet_path = os.path.dirname(jet.__file__)

config = ConfigParser()
config.read(jet_path + "/.metadata")

description = \
"""
JET-CLI
"""

parser = argparse.ArgumentParser(description=description)
parser.add_argument('-c', '--clean', help='delete all files generated by JET', action="store_true")
parser.add_argument('--install-dependencies', help='install JET dependencies', action="store_true")
parser.add_argument('-v', '--version', help='show version number', action="store_true")
args = parser.parse_args()

if args.clean and os.path.exists('./jet_generated/'):
    shutil.rmtree('./jet_generated/')
if args.install_dependencies:
    os.system('python ' + jet_path + '/post_install/post_install.py')
if args.version:
    print(config.get('Version', 'version'))
