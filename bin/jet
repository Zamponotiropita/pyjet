#!/usr/bin/python
import argparse
import sys, os, shutil
import pkgutil
if sys.version_info[0] >= 3:
    from configparser import  ConfigParser
else:
    from ConfigParser import  ConfigParser


jet_path = pkgutil.get_loader("jet").filename

config = ConfigParser()
config.read(jet_path + "/.metadata")

description = \
"""
JET-CLI
"""

parser = argparse.ArgumentParser(description=description)
parser.add_argument('-c', '--clean', help='delete all files generated by JET', action="store_true")
parser.add_argument('--install-dependencies', help='install JET dependencies', action="store_true")
parser.add_argument('-v', '--version', help='show version number', action="store_true")
args = parser.parse_args()

if args.clean:
    if os.path.exists('./jet_generated/'):
        shutil.rmtree('./jet_generated/')
elif args.install_dependencies:
    os.system('python ' + jet_path + '/post_install/post_install.py')
elif args.version:
    print(config.get('Version', 'version'))
else:
    print("Arguments missing. Please use '--help' for information on how to use the jet-cli.")
